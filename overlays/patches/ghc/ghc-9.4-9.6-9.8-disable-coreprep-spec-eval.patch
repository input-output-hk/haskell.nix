diff --git a/compiler/GHC/CoreToStg/Prep.hs b/compiler/GHC/CoreToStg/Prep.hs
index c463f41121..3673b94991 100644
--- a/compiler/GHC/CoreToStg/Prep.hs
+++ b/compiler/GHC/CoreToStg/Prep.hs
@@ -1785,7 +1785,14 @@ mkFloat env dmd is_unlifted bndr rhs
   where
     is_hnf      = exprIsHNF rhs
     is_strict   = isStrUsedDmd dmd
-    ok_for_spec = exprOkForSpecEval (not . is_rec_call) rhs
+    ok_for_spec = exprOkForSpecEval fun_ok_for_spec rhs
+    fun_ok_for_spec i
+      | is_rec_call i = False
+      | otherwise     =
+          case idDetails i of
+                  DFunId {}        -> False
+                  DataConWorkId {} -> False
+                  _                -> True
     is_rec_call = (`elemUnVarSet` cpe_rec_ids env)
 
 emptyFloats :: Floats
